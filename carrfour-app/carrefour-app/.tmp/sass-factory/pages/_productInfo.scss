@charset "utf-8"; // 底部高度
$footer-bar-height: 50px;
$transform-speed: 0.5s;


// 按钮加载独立渲染，防止title过长
.bar-header {

    .button-load {
        transform: translate3d(0,0,0);
    }

}

.product-info-panel {
    transition: transform $transform-speed ease;
    // 主轮播图
    &.switched {
        z-index: 0;
        transform: translate3d(0, -100%, 0);
    }

    .wide-slider {
        position: relative;
        width: 100%;

        .ui-switch-panel {
            background: $light;
        }

        &:after {
            display: block;
            content: '';
            top: 0;
            left: 0;
            margin-top: 100%;
        }
    }

    .wide-slider img {
        position: absolute;
        top: 0;
        width: 100%;
        overflow: hidden;
    }

    .ui-switch-nav {
        bottom: 20px;
        height: 8px;
        line-height: 8px;
    }

    .ui-switch-nav-item {
        width: 8px;
        height: 8px;
        margin: 0 3px;
        font-size: 0;
        background-color: #ccc;
        border-radius: 4px;

        &.active {
            background-color: #8c8c8c;
        }
    }
    // 主轮播图角标
    .corner-mark-container .corner-mark {
        width: 50px;
        height: 50px;
    }

    .corner-mark-9 {
        top: 11px;
        left: 22px;
    }

    .corner-mark-10 {
        bottom: 32px;
        left: 22px;
    }

    .corner-mark-11 {
        top: 11px;
        right: 22px;
    }

    .corner-mark-12 {
        bottom: 32px;
        right: 22px;
    }
    // 商品名称栏
    .product-info-special-category {
        .article-title {
            color: $assertive;
        }
    }

    .product-info-name {
        font-size: $font-size-big;
        max-height: 42px;
        overflow: hidden;
    }

    .product-info-sub-name {
        color: $text-color-quiet;
        font-size: $font-size-small;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
    }

    .product-info-price-row {
        display: flex;
        justify-content: space-between;

        .sell-out-count {
            color: $text-color-quiet;
            font-size: $font-size-small;
        }

        .current-price {
            color: $primary-color;
            font-size: $font-size-largest;

            span {
                font-weight: bold;
            }

            .symbol {
                font-weight: normal;
                font-size: $font-size-base;
            }
        }
    }
    // 商品失效提示
    .product-unavailable {
        color: $primary-color;
        font-size: 24px;
        text-align: center;
    }
    // 行内icon 用于同行提示等
    .inline-icon {
        vertical-align: middle;
        position: relative;
        top: -1px;
        color: $assertive;
    }
    // 容器
    .info-box {}

    .info-row {
        font-size: $font-size-small;
        border-bottom: $stable 1px solid;
        padding: 7px 10px;
        margin: 0;

        &.no-border-row,
        &:last-child {
            border-bottom: none;
        }

        .info-line-title {
            color: $text-color-quiet;
            // min-width: 4.5em;
            margin-left: -10px;
            text-align: center;

            .tag-title {
                color: $primary-color;
                border: $primary-color 1px solid;
                padding: 0 4px;
                margin: 0 5px;
            }
        }

        .info-line-content {
            flex-grow: 1;

            &.ellipsis-content {
                display: -webkit-box;
                text-overflow: ellipsis;
                -webkit-box-orient: vertical;
                -webkit-line-clamp: 1;
                overflow: hidden;
            }
        }

        .info-line-button {
            color: $text-color-quiet;
            padding-left: 5px;
            font-size: 18px;
            flex-shrink: 0;

            > .icon {
                position: relative;

                &:after {
                    position: absolute;
                    top: -5px;
                    right: -5px;
                    bottom: -5px;
                    left: -5px;
                    content: " ";
                }
            }

            &.align-start {
                align-self: flex-start;
            }

            &.align-center {
                align-self: center;
            }

            &.aligen-end {
                align-self: flex-end;
            }
        }
    }
    // 秒杀倒计时相关
    .info-flash-text {
        color: $text-color-quiet;
    }

    .info-flash-countdown {
        color: $primary-color;
    }

    .info-style-row {
        .icon {
            font-size: $font-size-large;
        }
    }
    // 促销信息
    .info-rule-row {
        line-height: 2em;
        word-break: break-word;

        .info-rule-tag-wrapper {
            display: inline-block;
            // margin-right: 5px;
        }

        .info-rule-tag {
            padding: 0 5px;
            color: $light;
            background-color: $primary-color;
            border-radius: 2px;
        }

        .info-rule-name {
            position: relative;
            margin: 0 3px
            // left: -3px;
        }
    }
    // 服务信息
    .info-services-content {
        display: flex;
        flex-wrap: wrap;
        overflow: hidden;
        justify-content: space-between;

        &.folded {
            height: 2em;
        }

        .info-services-row {
            // min-width: 33.33%;
            line-height: 2em;
            display: inline-flex;

            > .icon38 {
                color: $text-color-quiet;
            }

            > .services-icon {
                flex-shrink: 0;
                top: -2px;
                margin-left: -4px;
                margin-right: -3px;
            }
        }
    }
    // 海外购税率
    .tax-info {
        font-size: $font-size-small;

        .tax-info-text {
            color: $text-color-quiet;

            .tax-info-count {
                font-weight: bold;
            }
        }

        .icon-tax-rate {
            font-size: $font-size-big;
            top: 0;
        }
    }
    // 公司信息
    .store-info {
        .store-name {
            color: $primary-color;
            font-weight: bold;
        }

        .shop-name {
            color: $primary-color;
            font-weight: bold;
        }
    }

    .delivery-fee .inline-icon {
        top: -3px;
    }
    // 商品评价
    .info-comment {
        color: $text-color-quiet;

        .info-comment-title-row {
            color: $text-color;
            font-size: $font-size-big;

            .good-comment-tip {
                font-size: $font-size-small;
            }

            .good-comment-rate {
                font-size: $font-size-base;
                color: $assertive;
            }
        }

        .info-comment-user-row {
            .comment-user-avatar img {
                width: 35px;
                height: 35px;
                border-radius: 50%;
            }

            .comment-level {
                .icon {
                    font-size: 20px;
                    color: #ffe35f;
                }
            }
        }

        .comment-content-row {
            font-size: $font-size-base;
        }
    }
    // 商品评价显示更多
    .info-comment-show-more {
        justify-content: center;

        > .icon {
            color: $text-color-quiet;
            font-size: 18px;
        }
    }

    .info-see-detail {
        text-align: center;
        color: $text-color-quiet;
    }

    .info-counter {
        height: 30px;
        border: $line-color 1px solid;
        border-radius: 2px;
        vertical-align: top;

        .counter-dec,
        .counter-inc,
        .counter-num {
            float: left;
            height: 28px;
            padding: 0;
            line-height: 28px;
            text-align: center;
            background: transparent;
            border: none;
        }

        .counter-num {
            width: 50px;
            padding: 0 5px;
            color: $text-color;
            font-size: $font-size-big;
            border-left: $line-color 1px solid;
            border-right: $line-color 1px solid;
        }

        .counter-dec,
        .counter-inc {
            width: 30px;
            color: $text-color-quiet;
            font-size: 20px;
        }
    }

    .recommend-title {
        font-size: $font-size-base;
        color: $text-color;
        line-height: $font-size-base;
        border-bottom: none;
    }

    .recommend-item {
        display: block;
        width: 80px;
        margin: 0 2px 10px;
        line-height: 18px;
    }

    .recommend-item-img {
        display: block;
        width: 75px;
        height: 75px;
        margin: 0 auto;
    }

    .recommend-item-name {
        overflow: hidden;
        height: 36px;
        margin-bottom: 0;
        padding: 0 3px;
        font-size: $font-size-small;
        white-space: normal;
        color: #171717;
    }

    .recommend-item-price {
        margin-bottom: 0;
        padding: 0 3px;
        color: $primary-color;
        font-size: $font-size-small;
    }
}

.lang-zh-CN .product-info-panel .info-row .info-line-title {
    min-width: 3.5em;
}

.lang-en .product-info-panel .info-row .info-line-title {
    min-width: 5.5em;
}
// 商品详情页 - 详情

.product-detail-panel {
    z-index: 0;
    transition: transform $transform-speed ease;
    transform: translate3d(0, 100%, 0);

    &.switched {
        z-index: 1;
        transform: translate3d(0, 0, 0);
    }

    .detail-content {
        width: 100%;
        height: 100%;
    }

    .detail-see-info {
        text-align: center;
        color: $text-color-quiet;
        top: -40px;
        width: 100%;
        position: absolute;
    }
    // 顶部分栏
    .detail-tab-list {
        height: 50px;
        line-height: 50px;
    }

    .detail-tab-item {
        position: relative;
        width: 33.3%;
        text-align: center;
        font-size: $font-size-big;

        &.active {
            color: $primary-color;
        }

        &:before {
            position: absolute;
            top: 16px;
            left: 0;
            width: 1px;
            height: 15px;
            background-color: $line-color;
            content: '';
        }

        &:first-child {
            &:before {
                content: none;
            }
        }
    }
    // 内部滚动区
    .detail-scroll {
        position: absolute;
        top: 52px;
        bottom: 0;
        left: 0;
        right: 0;
    }

    .detail-tab-content {
        p {
            margin: 0;
        }

        img {
            display: block;
            max-width: 100%;
        }
        // 售后
        &.detail-tab-sales {
            border-top: $line-color 1px solid;
        }
        // 规格参数
        &.detail-tab-param {
            border: $line-color 1px solid;
            border-bottom: none;

            .param-row {
                line-height: 40px;
                margin-bottom: 0;
                border-bottom: $line-color 1px solid;
            }

            .param-title {
                width: 90px;
                text-align: center;
            }

            .param-txt {
                min-height: 40px;
                display: block;
                margin-left: 100px;
                @include text-overflow-ellipsis;
            }
        }
    }
}
// 头部、底部icon图片

.bar {
    .info-view-icon {
        &:before {
            display: block!important;
            line-height: 24px!important;
            font-size: 24px!important;
        }
    }
}
// 详情底部“收藏、购物车、加入购物车”按钮

.product-info-view {
    color: $text-color;

    .has-footer {
        bottom: $footer-bar-height;
    }
}

.bar.add-to-cart-bar {
    height: $footer-bar-height;
    padding: 0;
    background-color: rgba(0, 0, 0, 0.95);
    border: none;
    background-image: none;

    .info-footer-list {
        width: 100%;
        height: $footer-bar-height;
        margin: 0;
    }

    .item-right {
        width: 40%;
    }

    .info-pay-left {
        width: 60%;
        color: $light;
        line-height: $footer-bar-height;
        font-size: $font-size-small;

        span {
            font-size: $font-size-big;
        }
    }

    .col {
        padding: 0;
    }

    .col-30 {
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 30%;
        -moz-box-flex: 0;
        -moz-flex: 0 0 %30;
        -ms-flex: 0 0 30%;
        flex: 0 0 30%;
    }

    .col-40 {
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 40%;
        -moz-box-flex: 0;
        -moz-flex: 0 0 %40;
        -ms-flex: 0 0 40%;
        flex: 0 0 40%;
    }

    .info-footer-item {
        height: $footer-bar-height;
        text-align: center;
    }

    .button-cart-collection {
        position: relative;
        height: $footer-bar-height;
        min-height: $footer-bar-height;
        color: $light;
        line-height: 16px;
        font-size: $font-size-small;

        .cm-icon {
            display: block;
            height: 25px;
            font-size: $font-size-icon;
        }

        .icon37 {
            color: $primary-color;
        }
    }

    .button-cart-num {
        position: absolute;
        left: 20px;
        top: 5px;
        height: 16px;
        line-height: 16px;
        font-size: $font-size-mini;
        color: $light;
        background-color: $assertive;
        border-radius: 8px;
    }

    .button-add {
        height: $footer-bar-height;
        min-height: $footer-bar-height;
        margin: 0;
        color: $light;
        font-size: $font-size-big;
        border: none;
        border-radius: 0;
    }
}
//全球购样式

.overseas-shop-view .product-info-view {
    .add-to-cart-bar {
        .button-cart-num {
            background-color: $overseas-shop-primary-color;
        }
    }

    .overseas-shop-rules-wrap {
        background: $light;

        .checkbox input {
            &:before {
                content: '';
                border: 1px solid #d2d2d2;
                background: #d2d2d2;
            }

            &:after {
                line-height: $checkbox-size;
                opacity: 1;
            }
        }

        .checkbox input:checked {
            &:before {
                border-color: $checkbox-checked-border;
                background: $checkbox-checked-bg;
            }
        }
    }
}
